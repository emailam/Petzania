spring:
  application:
    name: RegistrationModule

  datasource:
    url: jdbc:h2:mem:testdb
    driver-class-name: org.h2.Driver
    username: sa
    password:

  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        dialect: org.hibernate.dialect.H2Dialect
        format_sql: true
  #    show-sql: true

  h2:
    console:
      enabled: true
      path: /h2-console


  cache:
    type:
      redis
    redis:
      host: localhost
      port: 6379

  security:
    user:
      name: admin
      password: 1234

  jwt:
    secret-key:
      4ioX3ogCr4GAZ9gB99txf1LyhqVOmTJ8RsL9hyJzZXQ=

  access:
    token:
      expiration:
        300000

  refresh:
    token:
      expiration:
        86400000

  mail:
    host: smtp.gmail.com
    port: 587
    username: petzaniasystem@gmail.com
    password: hhiyrxqgoamgbzuo
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true


  email:
    sender:
      petzaniasystem@gmail.com

  aws:
    access-key:
      AKIA4LWSL3LGHUPC3QWG
    secret-access-key:
      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
    region: eu-north-1
    bucket-name: petzania-media
    cdn-url: "https://d1xkc8gz1va7ak.cloudfront.net"
    max-size:
      image: 10485760
      video: 52428800
      text: 5242880
      application/pdf: 10485760
    allowed-types:
      - image/jpeg
      - image/png
      - video/mp4
      - text/plain
      - application/pdf

paypal:
  client-id: AcWmUFleXWmsAqACRIjcrfCwEwSfrBy7v3kYe5ejrwqxceOsh8kwdmzm0fkLeRgWe6Md5h1Nfv36_YGU
  client-secret: ENw9DhaESNiPv6XmjDjtEPTw2_6Y5KxPOkOiSPI64sY8vZsKaI1lVJGNpePSg6YBB4d6-d9Wu8yrbdge
  mode: sandbox
  return-url: "http://localhost:8080/api/payment/success"
  cancel-url: "http://localhost:8080/api/payment/cancel"
  brand-name: "PetZania"
  user-action: "PAY_NOW"
  landing-page: "LOGIN"
  intent: "CAPTURE"
server:
  error:
    include-message: always
    include-binding-errors: always


resilience4j.ratelimiter:
  instances:
    ### User Service Limiters
    loginRateLimiter:
      limitForPeriod: 10  # Up to 10 login attempts
      limitRefreshPeriod: 5m  # Reset after 5 minutes
      timeoutDuration: 0  # No wait time (Default is 5 sec)

    sendOtpRateLimiter:
      limitForPeriod: 5
      limitRefreshPeriod: 2m

    verifyOtpRateLimiter:
      limitForPeriod: 10
      limitRefreshPeriod: 2m

    refreshTokenRateLimiter: # don't know how much should I put
      limitForPeriod: 20
      limitRefreshPeriod: 10m

    logoutRateLimiter:
      limitForPeriod: 10
      limitRefreshPeriod: 10m

    registerRateLimiter:
      limitForPeriod: 10
      limitRefreshPeriod: 5m

    ### Pet Service Limiters
    savePetRateLimiter:
      limitForPeriod: 5
      limitRefreshPeriod: 2m

    updatePetRateLimiter:
      limitForPeriod: 10
      limitRefreshPeriod: 3m

    deletePetRateLimiter:
      limitForPeriod: 10
      limitRefreshPeriod: 3m

    addPetPictureRateLimiter:
      limitForPeriod: 10
      limitRefreshPeriod: 2m

    ### Admin Service Limiters
    updateAdminRateLimiter:
      limitForPeriod: 5
      limitRefreshPeriod: 1m
      timeoutDuration: 0

    saveAdminRateLimiter:
      limitForPeriod: 3
      limitRefreshPeriod: 2m
      timeoutDuration: 0

    deleteAdminRateLimiter:
      limitForPeriod: 3
      limitRefreshPeriod: 2m
      timeoutDuration: 0

    ### Cloud Service Limiters
    mediaUploadLimiter:
      limit-for-period: 5
      limit-refresh-period: 10s
      timeout-duration: 0

    mediaUrlLimiter:
      limit-for-period: 10
      limit-refresh-period: 10s
      timeout-duration: 0

    ### Post Service Limiters
    createPostLimiter:
      limit-for-period: 3
      limit-refresh-period: 10s
      timeout-duration: 0

    getAllPostsLimiter:
      limit-for-period: 5
      limit-refresh-period: 5s
      timeout-duration: 0

    getPostByIdLimiter:
      limit-for-period: 5
      limit-refresh-period: 5s
      timeout-duration: 0

    findPostsByUserLimiter:
      limit-for-period: 5
      limit-refresh-period: 5s
      timeout-duration: 0

    ### PayPal Service Limiters
    paypalCreateOrderLimiter:
      limit-for-period: 3
      limit-refresh-period: 10s
      timeout-duration: 0

    paypalCaptureOrderLimiter:
      limit-for-period: 5
      limit-refresh-period: 10s
      timeout-duration: 0

    paypalApprovalUrlLimiter:
      limit-for-period: 5
      limit-refresh-period: 10s
      timeout-duration: 0

    paypalGetOrderDetailsLimiter:
      limit-for-period: 5
      limit-refresh-period: 10s
      timeout-duration: 0

    paypalRefundLimiter:
      limit-for-period: 2
      limit-refresh-period: 20s
      timeout-duration: 0

    paypalProcessCaptureLimiter:
      limit-for-period: 3
      limit-refresh-period: 10s
      timeout-duration: 0

logging:
  level:
    org.springframework.cache: DEBUG
    org.springframework.data.redis.cache: DEBUG
    org.springframework.security: DEBUG
    org.springframework.web.servlet.DispatcherServlet: DEBUG